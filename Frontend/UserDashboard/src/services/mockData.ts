// Mock Data Service for Development
import type {
  Customer,
  ServicePlan,
  Payment,
  Ticket,
  ConnectionLog,
  ONUMonitoring,
  CustomerHistory,
  OLT,
  ODC,
  ODP,
  BandwidthUsage,
} from '@/types';

// Service Plans
export const mockServicePlans: ServicePlan[] = [
  {
    id: 'plan-1',
    name: 'Paket 5 Mbps',
    description: 'Paket hemat untuk browsing dan streaming',
    bandwidthDownload: 5,
    bandwidthUpload: 5,
    monthlyPrice: 100000,
    isActive: true,
    createdAt: '2024-01-01T00:00:00Z',
  },
  {
    id: 'plan-2',
    name: 'Paket 10 Mbps',
    description: 'Paket populer untuk keluarga',
    bandwidthDownload: 10,
    bandwidthUpload: 10,
    monthlyPrice: 150000,
    isActive: true,
    createdAt: '2024-01-01T00:00:00Z',
  },
  {
    id: 'plan-3',
    name: 'Paket 20 Mbps',
    description: 'Paket cepat untuk gaming dan streaming HD',
    bandwidthDownload: 20,
    bandwidthUpload: 20,
    monthlyPrice: 250000,
    isActive: true,
    createdAt: '2024-01-01T00:00:00Z',
  },
  {
    id: 'plan-4',
    name: 'Paket 50 Mbps',
    description: 'Paket premium untuk kebutuhan bisnis',
    bandwidthDownload: 50,
    bandwidthUpload: 50,
    monthlyPrice: 500000,
    isActive: true,
    createdAt: '2024-01-01T00:00:00Z',
  },
];

// Infrastructure
export const mockOLTs: OLT[] = [
  {
    id: 'olt-1',
    name: 'OLT-MAIN',
    ipAddress: '192.168.1.1',
    location: 'Kantor Pusat',
    vendor: 'zte',
    isActive: true,
  },
  {
    id: 'olt-2',
    name: 'OLT-BACKUP',
    ipAddress: '192.168.1.2',
    location: 'Kantor Cabang',
    vendor: 'huawei',
    isActive: true,
  },
];

export const mockODCs: ODC[] = [
  {
    id: 'odc-1',
    name: 'ODC-001',
    oltId: 'olt-1',
    location: 'Jl. Merdeka',
    latitude: -6.2615,
    longitude: 107.1534,
    capacity: 48,
    isActive: true,
  },
  {
    id: 'odc-2',
    name: 'ODC-002',
    oltId: 'olt-1',
    location: 'Jl. Kemerdekaan',
    latitude: -6.2625,
    longitude: 107.1544,
    capacity: 48,
    isActive: true,
  },
];

export const mockODPs: ODP[] = [
  {
    id: 'odp-1',
    name: 'ODP-015',
    odcId: 'odc-1',
    location: 'Jl. Merdeka No. 100',
    latitude: -6.2615,
    longitude: 107.1534,
    capacity: 8,
    isActive: true,
  },
  {
    id: 'odp-2',
    name: 'ODP-016',
    odcId: 'odc-1',
    location: 'Jl. Merdeka No. 200',
    latitude: -6.2620,
    longitude: 107.1540,
    capacity: 8,
    isActive: true,
  },
  {
    id: 'odp-3',
    name: 'ODP-025',
    odcId: 'odc-2',
    location: 'Jl. Kemerdekaan No. 50',
    latitude: -6.2625,
    longitude: 107.1544,
    capacity: 8,
    isActive: true,
  },
];


// Helper function to generate dates
const daysAgo = (days: number) => {
  const date = new Date();
  date.setDate(date.getDate() - days);
  return date.toISOString();
};

const daysFromNow = (days: number) => {
  const date = new Date();
  date.setDate(date.getDate() + days);
  return date.toISOString().split('T')[0];
};

// Mock Customers
export const mockCustomers: Customer[] = [
  {
    id: 'cust-1',
    customerCode: 'CUST-202401-0001',
    fullName: 'Budi Santoso',
    nik: '3201234567890001',
    phone: '081234567890',
    email: 'budi.santoso@example.com',
    address: 'Jl. Merdeka No. 123, RT 001/RW 005',
    rt: '001',
    rw: '005',
    kelurahan: 'Sukamaju',
    kecamatan: 'Cikarang Utara',
    city: 'Bekasi',
    postalCode: '17530',
    latitude: -6.2615,
    longitude: 107.1534,
    status: 'active',
    servicePlanId: 'plan-2',
    activationDate: '2024-01-05',
    monthlyFee: 150000,
    dueDate: daysFromNow(5),
    lastPaymentDate: daysAgo(25).split('T')[0],
    outstandingBalance: 0,
    odpId: 'odp-1',
    odcId: 'odc-1',
    oltId: 'olt-1',
    oltPort: '1/1/1',
    onuSerial: 'ZTEG12345678',
    pppoeUsername: 'budi.santoso',
    pppoePassword: 'pass123',
    isOnline: true,
    ipAddress: '10.10.10.100',
    createdAt: '2024-01-01T00:00:00Z',
    updatedAt: '2024-01-01T00:00:00Z',
  },
  {
    id: 'cust-2',
    customerCode: 'CUST-202401-0002',
    fullName: 'Ani Wijaya',
    phone: '081234567891',
    email: 'ani.wijaya@example.com',
    address: 'Jl. Merdeka No. 125, RT 001/RW 005',
    rt: '001',
    rw: '005',
    kelurahan: 'Sukamaju',
    kecamatan: 'Cikarang Utara',
    city: 'Bekasi',
    postalCode: '17530',
    status: 'active',
    servicePlanId: 'plan-3',
    activationDate: '2024-01-10',
    monthlyFee: 250000,
    dueDate: daysFromNow(10),
    lastPaymentDate: daysAgo(20).split('T')[0],
    outstandingBalance: 0,
    odpId: 'odp-1',
    odcId: 'odc-1',
    oltId: 'olt-1',
    oltPort: '1/1/2',
    onuSerial: 'ZTEG12345679',
    pppoeUsername: 'ani.wijaya',
    pppoePassword: 'pass456',
    isOnline: true,
    ipAddress: '10.10.10.101',
    createdAt: '2024-01-08T00:00:00Z',
    updatedAt: '2024-01-08T00:00:00Z',
  },
  {
    id: 'cust-3',
    customerCode: 'CUST-202401-0003',
    fullName: 'Dedi Prasetyo',
    phone: '081234567892',
    address: 'Jl. Merdeka No. 127, RT 002/RW 005',
    rt: '002',
    rw: '005',
    kelurahan: 'Sukamaju',
    kecamatan: 'Cikarang Utara',
    city: 'Bekasi',
    postalCode: '17530',
    status: 'suspended',
    servicePlanId: 'plan-2',
    activationDate: '2024-02-01',
    monthlyFee: 150000,
    dueDate: daysFromNow(-10),
    lastPaymentDate: daysAgo(40).split('T')[0],
    outstandingBalance: 150000,
    odpId: 'odp-1',
    odcId: 'odc-1',
    oltId: 'olt-1',
    oltPort: '1/1/3',
    onuSerial: 'ZTEG12345680',
    pppoeUsername: 'dedi.prasetyo',
    pppoePassword: 'pass789',
    isOnline: false,
    createdAt: '2024-01-28T00:00:00Z',
    updatedAt: '2024-01-28T00:00:00Z',
  },
  {
    id: 'cust-4',
    customerCode: 'CUST-202402-0004',
    fullName: 'Eka Putri',
    phone: '081234567893',
    email: 'eka.putri@example.com',
    address: 'Jl. Merdeka No. 150, RT 003/RW 005',
    rt: '003',
    rw: '005',
    kelurahan: 'Sukamaju',
    kecamatan: 'Cikarang Utara',
    city: 'Bekasi',
    postalCode: '17530',
    status: 'active',
    servicePlanId: 'plan-1',
    activationDate: '2024-02-15',
    monthlyFee: 100000,
    dueDate: daysFromNow(15),
    lastPaymentDate: daysAgo(15).split('T')[0],
    outstandingBalance: 0,
    odpId: 'odp-2',
    odcId: 'odc-1',
    oltId: 'olt-1',
    oltPort: '1/1/4',
    onuSerial: 'ZTEG12345681',
    pppoeUsername: 'eka.putri',
    pppoePassword: 'pass101',
    isOnline: true,
    ipAddress: '10.10.10.102',
    createdAt: '2024-02-10T00:00:00Z',
    updatedAt: '2024-02-10T00:00:00Z',
  },
  {
    id: 'cust-5',
    customerCode: 'CUST-202403-0005',
    fullName: 'Fajar Ramadhan',
    phone: '081234567894',
    address: 'Jl. Kemerdekaan No. 456, RT 001/RW 003',
    rt: '001',
    rw: '003',
    kelurahan: 'Sukamulya',
    kecamatan: 'Cikarang Selatan',
    city: 'Bekasi',
    postalCode: '17530',
    status: 'active',
    servicePlanId: 'plan-4',
    activationDate: '2024-03-01',
    monthlyFee: 500000,
    dueDate: daysFromNow(1),
    lastPaymentDate: daysAgo(29).split('T')[0],
    outstandingBalance: 0,
    odpId: 'odp-3',
    odcId: 'odc-2',
    oltId: 'olt-1',
    oltPort: '1/2/1',
    onuSerial: 'ZTEG12345682',
    pppoeUsername: 'fajar.ramadhan',
    pppoePassword: 'pass202',
    isOnline: false,
    createdAt: '2024-02-25T00:00:00Z',
    updatedAt: '2024-02-25T00:00:00Z',
  },
  {
    id: 'cust-6',
    customerCode: 'CUST-202411-0006',
    fullName: 'Gita Sari',
    phone: '081234567895',
    email: 'gita.sari@example.com',
    address: 'Jl. Merdeka No. 200, RT 004/RW 005',
    rt: '004',
    rw: '005',
    kelurahan: 'Sukamaju',
    kecamatan: 'Cikarang Utara',
    city: 'Bekasi',
    postalCode: '17530',
    status: 'pending_activation',
    servicePlanId: 'plan-2',
    monthlyFee: 150000,
    outstandingBalance: 0,
    odpId: 'odp-2',
    odcId: 'odc-1',
    oltId: 'olt-1',
    oltPort: '1/1/5',
    onuSerial: 'ZTEG12345683',
    pppoeUsername: 'gita.sari',
    pppoePassword: 'pass303',
    isOnline: false,
    createdAt: '2024-11-28T00:00:00Z',
    updatedAt: '2024-11-28T00:00:00Z',
  },
];


// Mock Payments
export const mockPayments: Payment[] = [
  {
    id: 'pay-1',
    customerId: 'cust-1',
    paymentDate: '2024-12-01',
    amount: 150000,
    paymentMethod: 'transfer',
    billingPeriodStart: '2024-12-01',
    billingPeriodEnd: '2024-12-31',
    receiptNumber: 'PAY-20241201-0001',
    receiptPhotoUrl: undefined,
    notes: 'Pembayaran bulan Desember',
    createdAt: '2024-12-01T10:00:00Z',
  },
  {
    id: 'pay-2',
    customerId: 'cust-1',
    paymentDate: '2024-11-01',
    amount: 150000,
    paymentMethod: 'cash',
    billingPeriodStart: '2024-11-01',
    billingPeriodEnd: '2024-11-30',
    receiptNumber: 'PAY-20241101-0001',
    notes: 'Pembayaran bulan November',
    createdAt: '2024-11-01T10:00:00Z',
  },
  {
    id: 'pay-3',
    customerId: 'cust-1',
    paymentDate: '2024-10-01',
    amount: 150000,
    paymentMethod: 'transfer',
    billingPeriodStart: '2024-10-01',
    billingPeriodEnd: '2024-10-31',
    receiptNumber: 'PAY-20241001-0001',
    notes: 'Pembayaran bulan Oktober',
    createdAt: '2024-10-01T10:00:00Z',
  },
  {
    id: 'pay-4',
    customerId: 'cust-2',
    paymentDate: '2024-12-01',
    amount: 250000,
    paymentMethod: 'e-wallet',
    billingPeriodStart: '2024-12-01',
    billingPeriodEnd: '2024-12-31',
    receiptNumber: 'PAY-20241201-0002',
    notes: 'Pembayaran via OVO',
    createdAt: '2024-12-01T11:00:00Z',
  },
  {
    id: 'pay-5',
    customerId: 'cust-2',
    paymentDate: '2024-11-01',
    amount: 250000,
    paymentMethod: 'transfer',
    billingPeriodStart: '2024-11-01',
    billingPeriodEnd: '2024-11-30',
    receiptNumber: 'PAY-20241101-0002',
    createdAt: '2024-11-01T11:00:00Z',
  },
];


// Mock Connection Logs
export const mockConnectionLogs: ConnectionLog[] = [
  {
    id: 'log-1',
    customerId: 'cust-1',
    pppoeUsername: 'budi.santoso',
    loginTime: '2024-12-04T08:30:00Z',
    logoutTime: undefined,
    durationSeconds: undefined,
    ipAddress: '10.10.10.100',
    bytesIn: 2684354560, // 2.5 GB
    bytesOut: 1288490188, // 1.2 GB
  },
  {
    id: 'log-2',
    customerId: 'cust-1',
    pppoeUsername: 'budi.santoso',
    loginTime: '2024-12-03T07:15:00Z',
    logoutTime: '2024-12-03T23:45:00Z',
    durationSeconds: 59400, // 16h 30m
    ipAddress: '10.10.10.100',
    bytesIn: 8796093022, // 8.2 GB
    bytesOut: 3328599654, // 3.1 GB
  },
  {
    id: 'log-3',
    customerId: 'cust-1',
    pppoeUsername: 'budi.santoso',
    loginTime: '2024-12-02T08:00:00Z',
    logoutTime: '2024-12-02T22:30:00Z',
    durationSeconds: 52200, // 14h 30m
    ipAddress: '10.10.10.100',
    bytesIn: 6979321856, // 6.5 GB
    bytesOut: 3006477107, // 2.8 GB
  },
  {
    id: 'log-4',
    customerId: 'cust-2',
    pppoeUsername: 'ani.wijaya',
    loginTime: '2024-12-04T06:00:00Z',
    logoutTime: undefined,
    ipAddress: '10.10.10.101',
    bytesIn: 5368709120, // 5 GB
    bytesOut: 2147483648, // 2 GB
  },
];

// Mock ONU Monitoring
export const mockONUMonitoring: ONUMonitoring[] = [
  {
    id: 'onu-1',
    customerId: 'cust-1',
    onuSerial: 'ZTEG12345678',
    rxPower: -23.5,
    txPower: 2.3,
    temperature: 45.2,
    voltage: 3.3,
    status: 'online',
    losCount: 0,
    lastLosTime: undefined,
    polledAt: '2024-12-04T14:00:00Z',
  },
  {
    id: 'onu-2',
    customerId: 'cust-1',
    onuSerial: 'ZTEG12345678',
    rxPower: -23.8,
    txPower: 2.2,
    temperature: 44.8,
    voltage: 3.3,
    status: 'online',
    losCount: 0,
    polledAt: '2024-12-04T13:55:00Z',
  },
  {
    id: 'onu-3',
    customerId: 'cust-2',
    onuSerial: 'ZTEG12345679',
    rxPower: -24.1,
    txPower: 2.4,
    temperature: 46.0,
    voltage: 3.3,
    status: 'online',
    losCount: 0,
    polledAt: '2024-12-04T14:00:00Z',
  },
];

// Mock Bandwidth Usage (for charts)
export const mockBandwidthUsage: BandwidthUsage[] = Array.from({ length: 24 }, (_, i) => {
  const hour = i;
  const baseDownload = Math.random() * 5 + 3; // 3-8 Mbps
  const baseUpload = Math.random() * 3 + 1; // 1-4 Mbps
  
  // Peak hours (18:00 - 23:00)
  const isPeakHour = hour >= 18 && hour <= 23;
  const multiplier = isPeakHour ? 1.5 : 1;
  
  return {
    timestamp: `${String(hour).padStart(2, '0')}:00`,
    download: parseFloat((baseDownload * multiplier).toFixed(2)),
    upload: parseFloat((baseUpload * multiplier).toFixed(2)),
  };
});


// Mock Tickets
export const mockTickets: Ticket[] = [
  {
    id: 'ticket-1',
    ticketNumber: 'TKT-20241204-0001',
    customerId: 'cust-1',
    customerName: 'Budi Santoso',
    category: 'slow_connection',
    priority: 'high',
    status: 'in_progress',
    description: 'Internet sangat lambat sejak kemarin malam. Speed test hanya dapat 2 Mbps padahal paket 10 Mbps.',
    resolution: undefined,
    assignedTo: 'tech-1',
    assignedUserName: 'Teknisi A',
    createdAt: '2024-12-04T10:00:00Z',
    updatedAt: '2024-12-04T11:30:00Z',
    resolvedAt: undefined,
    closedAt: undefined,
    activities: [
      {
        id: 'act-1',
        ticketId: 'ticket-1',
        activityType: 'comment',
        description: 'Tiket dibuat oleh admin',
        createdBy: 'admin-1',
        createdByName: 'Admin',
        createdAt: '2024-12-04T10:00:00Z',
      },
      {
        id: 'act-2',
        ticketId: 'ticket-1',
        activityType: 'assignment',
        description: 'Tiket di-assign ke Teknisi A',
        createdBy: 'admin-1',
        createdByName: 'Admin',
        createdAt: '2024-12-04T10:15:00Z',
      },
      {
        id: 'act-3',
        ticketId: 'ticket-1',
        activityType: 'status_change',
        description: 'Status diubah ke In Progress',
        createdBy: 'tech-1',
        createdByName: 'Teknisi A',
        createdAt: '2024-12-04T11:00:00Z',
      },
      {
        id: 'act-4',
        ticketId: 'ticket-1',
        activityType: 'comment',
        description: 'Teknisi sedang menuju lokasi untuk pengecekan',
        createdBy: 'tech-1',
        createdByName: 'Teknisi A',
        createdAt: '2024-12-04T11:30:00Z',
      },
    ],
  },
  {
    id: 'ticket-2',
    ticketNumber: 'TKT-20241125-0045',
    customerId: 'cust-1',
    customerName: 'Budi Santoso',
    category: 'no_connection',
    priority: 'urgent',
    status: 'resolved',
    description: 'Tidak bisa connect sama sekali sejak pagi',
    resolution: 'Kabel fiber di ODP kotor, sudah dibersihkan. Koneksi normal kembali.',
    assignedTo: 'tech-1',
    assignedUserName: 'Teknisi A',
    createdAt: '2024-11-25T08:30:00Z',
    updatedAt: '2024-11-25T14:00:00Z',
    resolvedAt: '2024-11-25T14:00:00Z',
    closedAt: '2024-11-25T14:00:00Z',
    activities: [
      {
        id: 'act-5',
        ticketId: 'ticket-2',
        activityType: 'comment',
        description: 'Tiket dibuat',
        createdBy: 'admin-1',
        createdByName: 'Admin',
        createdAt: '2024-11-25T08:30:00Z',
      },
      {
        id: 'act-6',
        ticketId: 'ticket-2',
        activityType: 'resolution',
        description: 'Masalah diselesaikan',
        createdBy: 'tech-1',
        createdByName: 'Teknisi A',
        createdAt: '2024-11-25T14:00:00Z',
      },
    ],
  },
  {
    id: 'ticket-3',
    ticketNumber: 'TKT-20241201-0023',
    customerId: 'cust-2',
    customerName: 'Ani Wijaya',
    category: 'disconnection',
    priority: 'medium',
    status: 'open',
    description: 'Koneksi sering putus-putus setiap malam',
    assignedTo: undefined,
    createdAt: '2024-12-01T15:00:00Z',
    updatedAt: '2024-12-01T15:00:00Z',
    activities: [],
  },
];


// Mock Customer History
export const mockCustomerHistory: CustomerHistory[] = [
  {
    id: 'hist-1',
    customerId: 'cust-1',
    changeType: 'payment',
    fieldName: undefined,
    oldValue: undefined,
    newValue: undefined,
    description: 'Pembayaran Rp 150.000 untuk periode Desember 2024',
    changedBy: 'admin-1',
    changedByName: 'Admin',
    changedAt: '2024-12-01T10:00:00Z',
  },
  {
    id: 'hist-2',
    customerId: 'cust-1',
    changeType: 'status_change',
    fieldName: 'status',
    oldValue: 'suspended',
    newValue: 'active',
    description: 'Status diubah dari Suspended ke Active setelah pembayaran',
    changedBy: 'system',
    changedByName: 'System',
    changedAt: '2024-12-01T10:01:00Z',
  },
  {
    id: 'hist-3',
    customerId: 'cust-1',
    changeType: 'status_change',
    fieldName: 'status',
    oldValue: 'active',
    newValue: 'suspended',
    description: 'Status diubah ke Suspended karena tunggakan 5 hari',
    changedBy: 'system',
    changedByName: 'System',
    changedAt: '2024-11-15T00:00:00Z',
  },
  {
    id: 'hist-4',
    customerId: 'cust-1',
    changeType: 'payment',
    description: 'Pembayaran Rp 150.000 untuk periode November 2024',
    changedBy: 'admin-1',
    changedByName: 'Admin',
    changedAt: '2024-11-01T10:00:00Z',
  },
  {
    id: 'hist-5',
    customerId: 'cust-1',
    changeType: 'plan_change',
    fieldName: 'service_plan',
    oldValue: 'Paket 5 Mbps',
    newValue: 'Paket 10 Mbps',
    description: 'Upgrade paket dari 5 Mbps ke 10 Mbps',
    changedBy: 'admin-1',
    changedByName: 'Admin',
    changedAt: '2024-06-15T14:30:00Z',
  },
  {
    id: 'hist-6',
    customerId: 'cust-1',
    changeType: 'profile_update',
    fieldName: 'phone',
    oldValue: '081234567899',
    newValue: '081234567890',
    description: 'Nomor telepon diubah',
    changedBy: 'admin-1',
    changedByName: 'Admin',
    changedAt: '2024-03-10T11:00:00Z',
  },
  {
    id: 'hist-7',
    customerId: 'cust-1',
    changeType: 'activation',
    description: 'Layanan diaktifkan dengan paket Paket 5 Mbps',
    changedBy: 'admin-1',
    changedByName: 'Admin',
    changedAt: '2024-01-05T09:00:00Z',
  },
  {
    id: 'hist-8',
    customerId: 'cust-1',
    changeType: 'registration',
    description: 'Pelanggan terdaftar dalam sistem',
    changedBy: 'admin-1',
    changedByName: 'Admin',
    changedAt: '2024-01-01T10:00:00Z',
  },
];
