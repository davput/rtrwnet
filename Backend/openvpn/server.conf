# OpenVPN Server - MikroTik Compatible (TCP + Username/Password Auth)
port 1194
proto tcp
dev tun
server 10.8.0.0 255.255.255.0
topology subnet
ca /etc/openvpn/pki/ca.crt
cert /etc/openvpn/pki/server.crt
key /etc/openvpn/pki/server.key
dh /etc/openvpn/pki/dh.pem

# Username/Password authentication
auth-user-pass-verify /etc/openvpn/auth-user.sh via-env
script-security 3
username-as-common-name

# NO client certificate required - CRITICAL for MikroTik
verify-client-cert none

# Security - MikroTik compatible settings
data-ciphers AES-256-CBC
cipher AES-256-CBC
auth SHA256
tls-version-min 1.0

# Performance
keepalive 10 120
persist-key
persist-tun

# Logging
log-append /var/log/openvpn/openvpn.log
verb 4

# Allow multiple clients with same username
duplicate-cn

# Max clients
max-clients 100
